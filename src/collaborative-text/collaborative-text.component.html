<div class="collaborative-text-display" [class.animate-in]="showDisplay">
  <div class="question-container">
    <h1 class="collaborative-question">{{ getPhaseQuestion() }}</h1>
    <p class="collaborative-instruction" [innerHTML]="getPhaseInstruction()"></p>
    
    @if (isWinningPhase() && winningSubmissions.length > 0) {
      <div class="winning-submission">
        @if (isSecretWinningPhase()) {
          <!-- Secret phase - don't display the winning text -->
          <div class="secret-message">
            <p>The endings have been determined and will remain secret until the finale.</p>
          </div>
        } @else if (isInNewStatTypePhase()) {
          <div class="multiple-submissions">
            @for (submission of winningSubmissions; track submission.submissionId) {
              <div class="submission-item">
                <div class="submission-text">{{ submission.currentText }}</div>
              </div>
            }
          </div>
        } @else {
          <div class="winning-text" [class.typing]="isAnimating">
            {{ currentDisplayText }}<span class="cursor" [class.blinking]="isAnimating">|</span>
          </div>
        }
      </div>
    }
  </div>
</div>