@if (isLoading) {
  <div class="loading">Loading game board...</div>
} @else if (gameBoard) {
  <div class="game-board-container">
    <mat-card class="game-board-card">
      <mat-card-header>
        <mat-card-title>The Path Ahead</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="board-grid-wrapper">
          <div class="board-grid" 
               [class.animating]="isAnimating"
               [class.move-east]="animationDirection === 'east'"
               [class.move-west]="animationDirection === 'west'">
            <!-- Single row: Current, Campfire, then all East encounters with campfires between -->
            <div class="board-row">
              <!-- Current encounter (leftmost) -->
              <div class="board-cell current" 
                   [class.final-encounter]="isFinalEncounter(currentEncounter)">
                @if (eastEncounter) {
                  <div class="direction-arrow east-arrow">â†’</div>
                }
                @if (currentEncounter) {
                  <mat-icon class="encounter-icon current-icon">{{ getEncounterIcon(currentEncounter) }}</mat-icon>
                  <div class="encounter-label current-location">
                    <strong>You have encountered:</strong><br>
                    {{ currentEncounter.encounterLabel.encounterLabel }}
                  </div>
                } @else {
                  <mat-icon class="encounter-icon current-icon">location_on</mat-icon>
                }
              </div>
              
              <!-- Campfire after current if there's an east encounter -->
              @if (shouldShowCampfireAfterCurrent()) {
                <div class="board-cell campfire">
                  <img src="assets/images/pyre.gif" alt="Campfire" class="campfire-icon">
                </div>
              }
              
              <!-- Only the first east encounter -->
              @if (eastEncounter) {
                <div class="board-cell east" 
                     [class.final-encounter]="isFinalEncounter(eastEncounter)">
                  <mat-icon class="encounter-icon">{{ getEncounterIcon(eastEncounter) }}</mat-icon>
                  <div class="encounter-label">{{ eastEncounter.encounterLabel.encounterLabel }}</div>
                </div>
              }
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
}

